# راهنمای استقرار پروژه Jack Dream

## مرحله 1: استقرار بک‌اند در Render.com

### 1.1 آماده‌سازی کد
- کد بک‌اند در پوشه `backend/` قرار دارد
- فایل `server.js` به‌روزرسانی شده تا از متغیرهای محیطی استفاده کند
- پورت از متغیر `PORT` محیطی خوانده می‌شود

### 1.2 ایجاد حساب کاربری در Render.com
1. به [render.com](https://render.com) بروید
2. حساب کاربری ایجاد کنید
3. وارد حساب کاربری شوید

### 1.3 ایجاد سرویس جدید
1. روی "New +" کلیک کنید
2. "Web Service" را انتخاب کنید
3. گزینه "Connect a repository" را انتخاب کنید
4. مخزن GitHub خود را متصل کنید

### 1.4 تنظیمات سرویس
- **Name**: `jack-dream-backend` (یا نام دلخواه)
- **Root Directory**: `backend`
- **Runtime**: `Node`
- **Build Command**: `npm install`
- **Start Command**: `npm start`
- **Plan**: Free

### 1.5 متغیرهای محیطی
در بخش "Environment Variables" این متغیرها را اضافه کنید:
- `NODE_ENV`: `production`
- `PORT`: `10000` (یا هر پورت دلخواه)

### 1.6 استقرار
1. روی "Create Web Service" کلیک کنید
2. منتظر بمانید تا استقرار کامل شود
3. URL سرویس را کپی کنید (مثل: `https://jack-dream-backend.onrender.com`)

## مرحله 2: استقرار فرانت‌اند در ParsPack.com

### 2.1 آماده‌سازی کد
- فایل `env.production` را ویرایش کنید
- URL بک‌اند را در `VITE_API_URL` قرار دهید:
```
VITE_API_URL=https://jack-dream-backend.onrender.com
```

### 2.2 ساخت پروژه
```bash
npm install
npm run build
```

### 2.3 ایجاد حساب کاربری در ParsPack.com
1. به [parspack.com](https://parspack.com) بروید
2. حساب کاربری ایجاد کنید
3. وارد حساب کاربری شوید

### 2.4 آپلود فایل‌ها
1. پوشه `dist/` را فشرده کنید
2. فایل ZIP را در ParsPack آپلود کنید
3. مسیر فایل اصلی: `index.html`

### 2.5 تنظیمات دامنه
- دامنه دلخواه خود را انتخاب کنید
- یا از دامنه رایگان ParsPack استفاده کنید

## مرحله 3: تست و بررسی

### 3.1 تست بک‌اند
- به آدرس `https://your-backend-url.onrender.com/health` بروید
- باید پیام `{"status":"OK"}` دریافت کنید

### 3.2 تست فرانت‌اند
- به آدرس فرانت‌اند بروید
- عملکرد اپلیکیشن را بررسی کنید
- اتصال به بک‌اند را تست کنید

## نکات مهم

### امنیت
- متغیرهای حساس را در متغیرهای محیطی قرار دهید
- از HTTPS استفاده کنید
- CORS را به درستی تنظیم کنید

### عملکرد
- فایل‌های استاتیک را بهینه کنید
- از CDN استفاده کنید
- کش را فعال کنید

### نگهداری
- لاگ‌ها را بررسی کنید
- نسخه‌های جدید را تست کنید
- پشتیبان‌گیری منظم انجام دهید

## عیب‌یابی

### مشکلات رایج
1. **خطای CORS**: تنظیمات CORS در بک‌اند را بررسی کنید
2. **خطای 404**: مسیرهای API را بررسی کنید
3. **خطای اتصال**: URL بک‌اند را در فرانت‌اند بررسی کنید

### لاگ‌ها
- لاگ‌های Render در داشبورد سرویس قابل مشاهده است
- لاگ‌های ParsPack در بخش مدیریت سایت قابل مشاهده است 